<!DOCTYPE html>
<!--
  ~ @author     Martin HÃ¸gh <mh@mapcentia.com>
  ~ @copyright  2013-2018 MapCentia ApS
  ~ @license    http://www.gnu.org/licenses/#AGPL  GNU AFFERO GENERAL PUBLIC LICENSE 3
  -->

<html>
<head>
    <meta charset="utf-8"/>
    <title>MapBox GL JS Example</title>
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js"></script>
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css" rel="stylesheet"/>
    <style>
        #map {
            background-color: #fff;
            width: 1450px;
            height: 700px;
            border: 0px solid black;
            float: left;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div id="map"></div>
<script>
    var map = new mapboxgl.Map({
        container: "map",
        style:
            {
                "version": 8,
                "name": "simple",
                "sources": {
                    "compass": {
                        "type": "vector",
                        "tiles": ["http://127.0.0.1:8080/mapcache/test/gmaps/public/{z}/{x}/{y}.mvt"]
                        //"tiles": ["http://127.0.0.1:8080/cgi-bin/mapserv.fcgi?map=/var/www/geocloud2/app/wms/mapfiles/test_public_wms.map&mode=tile&tilemode=gmap&tile={x}+{y}+{z}&layers=all&map.imagetype=mvt"]

                    }
                },
                "layers": [
                    {
                        "id": "background",
                        "interactive": true,
                        "type": "background",
                        "paint": {
                            "background-color": "#f8f4f0"
                        }
                    },{

                        "id": "public.skoler",
                        "type": "circle",
                        "source": "compass",
                        "source-layer": "public.skoler",
                        "paint": {
                            "circle-radius": 3,
                            "circle-color": "rgba(255,148,79,1)"
                        }
                    },{

                        "id": "public.skoledistrikter_fkg",
                        "type": "fill",

                        "source": "compass",
                        "source-layer": "public.skoledistrikter_fkg",
                        "paint": {
                            "fill-color": "#a0c8f0"

                        }
                    }
                ]
            }
        ,
        zoom: 6,
        center: [9, 56]
    });

    map.addControl(new mapboxgl.NavigationControl());
</script>

</body>
</html>